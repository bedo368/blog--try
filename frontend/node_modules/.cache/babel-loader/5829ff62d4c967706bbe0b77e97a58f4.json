{"ast":null,"code":"import axios from \"axios\";\nimport auth_types from \"./auth.types\";\nexport const sign_in_async = (email, password) => {\n  return dispatch => {\n    const query = `query{\n            login(email:\"${email}\" password:\"${password}\"  ){\n                token\n                tokenExpriration\n                email\n                displayName\n                userId\n\n            }\n          }`;\n    axios({\n      url: \"http://localhost:5000/graphql\",\n      method: \"POST\",\n      data: {\n        query: query\n      }\n    }).then(res => {\n      dispatch(sign_in_success(res.data.data.login));\n      console.log(res);\n    }).catch(err => {\n      console.log(err.response.data.errors[0].message);\n      dispatch(sign_in_fail(err.response.data.errors[0].message));\n    });\n  };\n};\n\nconst sign_in_success = authdata => {\n  return {\n    type: auth_types.SIGN_IN_SUCCESS,\n    payload: authdata\n  };\n};\n\nconst sign_in_fail = err => {\n  return {\n    type: auth_types.SIGN_IN_FAIL,\n    payload: err\n  };\n};\n\nconst sign_out = () => {\n  return {\n    type: auth_types.SIGN_OUT\n  };\n};","map":{"version":3,"sources":["/mnt/d/react&bac/genral-blog/frontend/src/redux/auth/auth.action.js"],"names":["axios","auth_types","sign_in_async","email","password","dispatch","query","url","method","data","then","res","sign_in_success","login","console","log","catch","err","response","errors","message","sign_in_fail","authdata","type","SIGN_IN_SUCCESS","payload","SIGN_IN_FAIL","sign_out","SIGN_OUT"],"mappings":"AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB;AAChD,SAAQC,QAAD,IAAc;AACnB,UAAMC,KAAK,GAAI;2BACQH,KAAM,eAAcC,QAAS;;;;;;;;YADpD;AAUAJ,IAAAA,KAAK,CAAC;AACJO,MAAAA,GAAG,EAAE,+BADD;AAEJC,MAAAA,MAAM,EAAE,MAFJ;AAGJC,MAAAA,IAAI,EAAE;AACJH,QAAAA,KAAK,EAAEA;AADH;AAHF,KAAD,CAAL,CAMGI,IANH,CAMSC,GAAD,IAAS;AACbN,MAAAA,QAAQ,CAACO,eAAe,CAACD,GAAG,CAACF,IAAJ,CAASA,IAAT,CAAcI,KAAf,CAAhB,CAAR;AAEFC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,GAAZ;AACD,KAVD,EAUGK,KAVH,CAUUC,GAAD,IAAO;AACZH,MAAAA,OAAO,CAACC,GAAR,CAAYE,GAAG,CAACC,QAAJ,CAAaT,IAAb,CAAkBU,MAAlB,CAAyB,CAAzB,EAA4BC,OAAxC;AACAf,MAAAA,QAAQ,CAACgB,YAAY,CAACJ,GAAG,CAACC,QAAJ,CAAaT,IAAb,CAAkBU,MAAlB,CAAyB,CAAzB,EAA4BC,OAA7B,CAAb,CAAR;AACH,KAbD;AAcD,GAzBD;AA0BD,CA3BM;;AA4BP,MAAMR,eAAe,GAAIU,QAAD,IAAY;AAChC,SAAM;AACFC,IAAAA,IAAI,EAAGtB,UAAU,CAACuB,eADhB;AAEFC,IAAAA,OAAO,EAAGH;AAFR,GAAN;AAIH,CALD;;AAMA,MAAMD,YAAY,GAAIJ,GAAD,IAAO;AACxB,SAAM;AACFM,IAAAA,IAAI,EAAGtB,UAAU,CAACyB,YADhB;AAEFD,IAAAA,OAAO,EAAGR;AAFR,GAAN;AAIH,CALD;;AAMA,MAAMU,QAAQ,GAAG,MAAI;AACjB,SAAO;AACHJ,IAAAA,IAAI,EAAItB,UAAU,CAAC2B;AADhB,GAAP;AAGH,CAJD","sourcesContent":["\nimport axios from \"axios\";\nimport auth_types from \"./auth.types\"\nexport const sign_in_async = (email, password) => {\n  return (dispatch) => {\n    const query = `query{\n            login(email:\"${email}\" password:\"${password}\"  ){\n                token\n                tokenExpriration\n                email\n                displayName\n                userId\n\n            }\n          }`;\n    axios({\n      url: \"http://localhost:5000/graphql\",\n      method: \"POST\",\n      data: {\n        query: query,\n      },\n    }).then((res) => {\n        dispatch(sign_in_success(res.data.data.login))\n\n      console.log(res);\n    }).catch((err)=>{\n        console.log(err.response.data.errors[0].message);\n        dispatch(sign_in_fail(err.response.data.errors[0].message))\n    })\n  };\n};\nconst sign_in_success = (authdata)=>{\n    return{\n        type : auth_types.SIGN_IN_SUCCESS,\n        payload : authdata\n    }\n}\nconst sign_in_fail = (err)=>{\n    return{\n        type : auth_types.SIGN_IN_FAIL,\n        payload : err\n    }\n}\nconst sign_out = ()=>{\n    return {\n        type :  auth_types.SIGN_OUT\n    }\n}"]},"metadata":{},"sourceType":"module"}