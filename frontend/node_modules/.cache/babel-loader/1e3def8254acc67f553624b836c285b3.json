{"ast":null,"code":"var _jsxFileName = \"/mnt/d/react&bac/genral-blog/frontend/src/pages/create-post/createPost.jsx\";\nimport React, { useState } from \"react\";\nimport EditorComponent from \"../../components/editor/editor\";\nimport { EditorState } from \"draft-js\";\nimport axios from \"axios\";\nimport \"./create-post.scss\";\n\nfunction CreatePost() {\n  //   const [editorState, updateeditorState] = useState(EditorState.createEmpty());\n  const [postForm, updatePostForm] = useState({\n    title: \"\",\n    content: \"\"\n  });\n  const {\n    title,\n    content\n  } = postForm;\n\n  const formOnSubmit = event => {\n    event.preventDefault();\n    const query = `mutation{\n            addComment(commentContent:\"${commentContent}\" relatedPost:\"${post._id}\" ){\n              _id\n              commentContent\n              commentCreator{\n                displayName\n              }\n            }\n          }`;\n    axios({\n      url: \"http://localhost:5000/graphql\",\n      method: \"POST\",\n      data: {\n        query: query\n      },\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      }\n    }).then(res => {\n      console.log(res);\n      updateCommentContent(\"\");\n    }).catch(err => {});\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"create_post\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    className: \"create_post_form\",\n    onSubmit: formOnSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 11\n    }\n  }, \" title \"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: title,\n    name: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    htmlFor: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 11\n    }\n  }, \" post content \"), /*#__PURE__*/React.createElement(\"textarea\", {\n    name: \"content\",\n    value: content,\n    id: \"\",\n    cols: \"30\",\n    rows: \"10\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 11\n    }\n  }, \"Add post\"))));\n}\n\nexport default CreatePost;","map":{"version":3,"sources":["/mnt/d/react&bac/genral-blog/frontend/src/pages/create-post/createPost.jsx"],"names":["React","useState","EditorComponent","EditorState","axios","CreatePost","postForm","updatePostForm","title","content","formOnSubmit","event","preventDefault","query","commentContent","post","_id","url","method","data","headers","Authorization","token","then","res","console","log","updateCommentContent","catch","err"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,SAASC,WAAT,QAA4B,UAA5B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,oBAAP;;AACA,SAASC,UAAT,GAAsB;AACtB;AACI,QAAM,CAACC,QAAD,EAAWC,cAAX,IAA8BN,QAAQ,CAAC;AAACO,IAAAA,KAAK,EAAC,EAAP;AAAWC,IAAAA,OAAO,EAAC;AAAnB,GAAD,CAA5C;AACA,QAAM;AAAED,IAAAA,KAAF;AAAUC,IAAAA;AAAV,MAAsBH,QAA5B;;AACA,QAAMI,YAAY,GAAIC,KAAD,IAAS;AAC1BA,IAAAA,KAAK,CAACC,cAAN;AACA,UAAMC,KAAK,GAAI;yCACkBC,cAAe,kBAAiBC,IAAI,CAACC,GAAI;;;;;;;YAD1E;AASEZ,IAAAA,KAAK,CAAC;AACJa,MAAAA,GAAG,EAAE,+BADD;AAEJC,MAAAA,MAAM,EAAE,MAFJ;AAGJC,MAAAA,IAAI,EAAE;AACJN,QAAAA,KAAK,EAAEA;AADH,OAHF;AAMJO,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAE,YAAYC;AAFpB;AANL,KAAD,CAAL,CAWGC,IAXH,CAWSC,GAAD,IAAS;AACbC,MAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAG,MAAAA,oBAAoB,CAAC,EAAD,CAApB;AACD,KAdH,EAeGC,KAfH,CAeUC,GAAD,IAAS,CAAE,CAfpB;AAiBL,GA5BD;;AA6BF,sBACE;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,SAAS,EAAC,kBAAhB;AAAmC,IAAA,QAAQ,EAAEnB,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eADF,eAEE;AAAO,IAAA,IAAI,EAAC,MAAZ;AAAmB,IAAA,KAAK,EAAEF,KAA1B;AAAiC,IAAA,IAAI,EAAC,OAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE;AAAO,IAAA,OAAO,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAHF,eAIE;AAAU,IAAA,IAAI,EAAC,SAAf;AAAyB,IAAA,KAAK,EAAEC,OAAhC;AAAyC,IAAA,EAAE,EAAC,EAA5C;AAA+C,IAAA,IAAI,EAAC,IAApD;AAAyD,IAAA,IAAI,EAAC,IAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,eAUE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAVF,CADF,CADF,CADF;AAkBD;;AAED,eAAeJ,UAAf","sourcesContent":["import React, { useState } from \"react\";\nimport EditorComponent from \"../../components/editor/editor\";\nimport { EditorState } from \"draft-js\";\nimport axios from \"axios\"\nimport \"./create-post.scss\";\nfunction CreatePost() {\n//   const [editorState, updateeditorState] = useState(EditorState.createEmpty());\n    const [postForm ,updatePostForm ] = useState({title:\"\", content:\"\"})\n    const { title , content } = postForm\n    const formOnSubmit = (event)=>{\n        event.preventDefault()\n        const query = `mutation{\n            addComment(commentContent:\"${commentContent}\" relatedPost:\"${post._id}\" ){\n              _id\n              commentContent\n              commentCreator{\n                displayName\n              }\n            }\n          }`;\n          axios({\n            url: \"http://localhost:5000/graphql\",\n            method: \"POST\",\n            data: {\n              query: query,\n            },\n            headers: {\n              \"Content-Type\": \"application/json\",\n              Authorization: \"Bearer \" + token,\n            },\n          })\n            .then((res) => {\n              console.log(res);\n              updateCommentContent(\"\");\n            })\n            .catch((err) => {});\n\n    }\n  return (\n    <div className=\"create_post\">\n      <div className=\"container\">\n        <form className=\"create_post_form\" onSubmit={formOnSubmit} > \n          <label htmlFor=\"title\"> title </label>\n          <input type=\"text\" value={title} name=\"title\" />\n          <label htmlFor=\"title\"> post content </label>\n          <textarea name=\"content\" value={content} id=\"\" cols=\"30\" rows=\"10\"></textarea>\n          {/* <EditorComponent\n            className=\"editor\"\n            onEditorStateChange={editorOnChange}\n            editorState={editorState}\n          /> */}\n          <button>Add post</button>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default CreatePost;\n"]},"metadata":{},"sourceType":"module"}